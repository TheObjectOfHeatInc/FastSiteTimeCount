<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–π–º–µ—Ä –¥–ª—è Telegram Preview</title>
    
    <!-- Open Graph —Ç–µ–≥–∏ –¥–ª—è Telegram –ø—Ä–µ–≤—å—é -->
    <meta property="og:title" content="üïê –ñ–∏–≤–æ–π —Ç–∞–π–º–µ—Ä">
    <meta property="og:description" content="–¢–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É">
    <meta property="og:image" content="/timer-image">
    <meta property="og:image:width" content="800">
    <meta property="og:image:height" content="400">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    
    <!-- Telegram —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ–≥–∏ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="üïê –ñ–∏–≤–æ–π —Ç–∞–π–º–µ—Ä">
    <meta name="twitter:description" content="–¢–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É">
    <meta name="twitter:image" content="/timer-image">
    
    <!-- –£–¥–∞–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: #000;
            color: #fff;
        }
        
        .timer-display {
            font-size: 8vw;
            font-weight: 300;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.02em;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .timer-display {
                font-size: 12vw;
            }
        }
    </style>
</head>
<body>
    <div class="timer-display" id="timer">00:00:00</div>

    <script>
        let targetDate = null;

        function formatTime(ms) {
            if (ms <= 0) return "00:00:00";
            const totalSeconds = Math.floor(ms / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function updateTimer() {
            if (!targetDate) return;
            const remaining = Math.max(0, targetDate - Date.now());
            document.getElementById('timer').textContent = formatTime(remaining);
        }

        async function init() {
            const res = await fetch('/api/time');
            const data = await res.json();
            targetDate = data.targetDate;
            setInterval(updateTimer, 1000);
        }

        init();
    </script>
</body>
</html>